<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="w=device-w, initial-scale=1, shrink-to-fit=no">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
      <title>D3.js</title>
      <link rel="stylesheet" href="style.css">
      <link href="https://fonts.googleapis.com/css?family=Gaegu" rel="stylesheet">
   </head>
   <body>
      <div class="container">
         <div class="row">
            <div class="col-12">
               <h3>Episodios más vistos</h3>
               <h5>Las series más populares y sus televidentes</h5>
               <p>Acá un gráfico que muestra las proporciones de televidentes de series populares de la televisión. Cabe destacar que el episodio más visto de Friends fue para el final de la serie, y los otros la mayoría de finales de temporadas.</p>
               <div id="here" class="my-4"></div>
            </div>
            <div class="col-12">
               <nav aria-label="navegador">
                  <ul class="pagination">
                     <li class="page-item"><a class="page-link" href="index.html">1</a></li>
                     <li class="page-item"><a class="page-link" href="funcion.html">2</a></li>
                     <li class="page-item"><a class="page-link" href="arreglo.html">3</a></li>
                     <li class="page-item"><a class="page-link" href="objeto.html">4</a></li>
                     <li class="page-item"><a class="page-link" href="fetch-json.html">5</a></li>
                     <li class="page-item"><a class="page-link" href="fetch-csv.html">6</a></li>
                     <li class="page-item active"><a class="page-link" href="freddy-turbina.html">7</a></li>
                  </ul>
               </nav>
            </div>
         </div>
      </div>
<script src="https://d3js.org/d3.v5.min.js"></script>
<script>

   var w = 980, h = 350, radius = 200;

   var calculo = [
      {name: 'Friends', count: 52460000, color: '#ffcdd2'},
      {name: 'The Walking Dead', count: 17290000, color: '#ef9a9a'},
      {name: 'Game Of Thrones', count: 8100000, color: '#e57373'},
      {name: 'Big Bang Theory', count: 20440000 , color: '#ef5350'},
      {name: 'Modern Family', count: 14530000, color: '#f44336'},
    ];

    var arc = d3.arc().outerRadius(radius - 50).innerRadius(100);

    var pie = d3.pie().sort(null).value(function(d) { return d.count; });

    var svg = d3.select('#here').append("svg")
      .attr("width", w)
      .attr("height", h)
      .style("background","#eeeeee")
      .append("g")
      .attr("transform", "translate(" + w/2 + "," + h/2 + ")");

    var g = svg.selectAll(".arc")
      .data(pie(calculo))
      .enter().append("g");

    g.append("path")
      .attr("d", arc)
      .style("fill", function(d,i) { return d.data.color; });

    g.append("text")
      .attr("transform", function(d) { return "translate(" + arc.centroid(d) + ")"; })
      .style("text-anchor", "middle")
      .text(function(d) { return d.data.name + "(" + d.data.count+ ")"; })
      .attr("fill","#424242")
      .style("font-size","18px")
      .style("font-weight","bold")
      .style("font-style","italic")
      .style("font-family","gaegu");

</script>
      <!-- jQuery primero, luego Popper.js, y finalmente Bootstrap JS -->
      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
   </body>
</html>
